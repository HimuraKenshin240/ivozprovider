<?php

namespace Ivoz\Ast\Infrastructure\Persistence\Doctrine;

use Doctrine\Bundle\DoctrineBundle\Repository\ServiceEntityRepository;
use Ivoz\Ast\Domain\Model\QueueMember\QueueMember;
use Ivoz\Ast\Domain\Model\QueueMember\QueueMemberInterface;
use Ivoz\Ast\Domain\Model\QueueMember\QueueMemberRepository;
use Doctrine\Persistence\ManagerRegistry;

/**
 * QueueMemberDoctrineRepository
 *
 * This class was generated by ivoz:make:repositories command.
 * Add your own custom repository methods below.
 *
 * @template-extends ServiceEntityRepository<QueueMember>
 */
class QueueMemberDoctrineRepository extends ServiceEntityRepository implements QueueMemberRepository
{
    public function __construct(ManagerRegistry $registry)
    {
        parent::__construct($registry, QueueMember::class);
    }

    public function findOneByProviderQueueMemberId(int $queueMemberId): ?QueueMemberInterface
    {
        /** @var QueueMemberInterface|null $response */
        $response = $this->findOneBy([
            'queueMember' => $queueMemberId
        ]);

        return $response;
    }

    public function findByInterface(string $interface): array
    {
        /** @var QueueMemberInterface[] $response */
        $response = $this->findBy([
            'stateInterface' => $interface
        ]);

        return $response;
    }
}
